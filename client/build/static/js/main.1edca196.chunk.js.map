{"version":3,"sources":["api/UserAPI.js","api/PostsAPI.js","GlobalState.js","components/headers/Header.js","components/mainpages/auth/Login.js","components/mainpages/auth/Register.js","components/mainpages/utils/post/Post.js","components/mainpages/posts/posts.js","components/mainpages/createPost/CreatePost.js","components/mainpages/home/Home.js","components/mainpages/utils/not_found/NotFound.js","components/mainpages/landing/Page.js","components/mainpages/Pages.js","App.js","index.js"],"names":["UserAPI","token","useState","isLogged","setIsLogged","callback","setCallback","name","setName","username","setUsername","userID","setUserID","img","setImg","tweet","setTweet","followers","setFollowers","following","setFollowing","useEffect","a","axios","get","headers","Authorization","res","data","_id","posts","alert","response","msg","getUser","addPost","patch","id","image","follwers","PostsAPI","setPosts","getPosts","GlobalState","createContext","DataProvider","children","setToken","refreshToken","accesstoken","localStorage","getItem","state","Provider","value","Header","useContext","logoutUser","clear","window","location","href","className","to","onClick","Login","password","user","setUser","onChangeInput","e","target","loginSubmit","preventDefault","post","setItem","onSubmit","type","required","placeholder","onChange","autoComplete","Register","registerSubmit","Post","removePost","confirm","Axios","delete","likes","Date","createdAt","toLocaleString","slice","reverse","map","key","initialState","CreatePost","setPost","handleSubmit","reload","TextField","label","variant","Home","NotFound","Page","Pages","path","exact","component","LandingPage","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1edca196.chunk.js","sourcesContent":["import {useState, useEffect} from 'react';\nimport axios from 'axios'\n\nfunction UserAPI(token) {\n    const [isLogged, setIsLogged] = useState(false)\n    const [callback, setCallback] = useState(false)\n    const [name, setName] = useState()\n    const [username, setUsername] = useState([])\n    const [userID, setUserID] = useState()\n    const [img, setImg] = useState()\n\n    //used 'tweet' to identify hook \n    const [tweet, setTweet] = useState([])\n    const [followers, setFollowers] = useState([])\n    const [following, setFollowing] = useState([])\n\n    useEffect(() =>{\n        if(token){\n            const getUser = async () =>{\n                try {\n                    const res = await axios.get('/user/infor', {\n                        headers: {Authorization: token}\n                    })\n\n                    setName(res.data.name)\n                    setUsername(res.data.username)\n                    setUserID(res.data._id)\n                    setIsLogged(true)\n                    setTweet(res.data.posts)\n                    setFollowers(res.data.followers)\n                    setFollowing(res.data.following)\n                    setImg(res.data.img)\n                \n                    \n                } catch (err) {\n                    alert(err.response.data.msg)\n                    \n                }\n            }\n            getUser()\n        }\n\n    },[token])\n\n\n    const addPost = async (posts) => {\n        if(!isLogged) return alert(\"Please login\")\n\n            setTweet([...tweet, {...posts}])\n\n            await axios.patch('/user/addpost', {posts: [...tweet, {...posts}]}, {\n                headers: {Authorization: token}\n            })\n\n    }\n\n\n\n    return {\n        isLogged: [isLogged, setIsLogged],\n        callback: [callback, setCallback],\n        name: [name, setName],\n        addPost: addPost,\n        username: [username, setUsername],\n        id: [userID, setUserID],\n        image: [img, setImg],\n        posts: [tweet, setTweet],\n        follwers: [followers, setFollowers],\n        following: [following, setFollowing]\n    }\n}\n\nexport default UserAPI\n ","import {useState, useEffect} from 'react'\nimport axios from 'axios'\n\n\nfunction PostsAPI() {\n    const [posts, setPosts] = useState([])\n    const [callback, setCallback] = useState(false)\n   \n\n    useEffect(() =>{\n        \n        const getPosts = async () => {\n            const res = await axios.get('/api/posts')\n            setPosts(res.data)\n           \n        }\n        getPosts()\n    },[callback])\n    \n    return {\n        posts: [posts, setPosts],\n        callback: [callback, setCallback]\n    }\n}\n\nexport default PostsAPI","import axios from 'axios'\nimport React, {createContext, useEffect, useState} from 'react'\nimport UserAPI from './api/UserAPI'\nimport PostsAPI from './api/PostsAPI'\n\n\nexport const GlobalState = createContext()\n\nexport const DataProvider = ({children}) => {\n    const [token, setToken] = useState(false)\n\n    const refreshToken = async () =>{\n        const res = await axios.get('/user/refresh_token')\n        \n        setToken(res.data.accesstoken)\n    }    \n    useEffect(() =>{\n        const firstLogin = localStorage.getItem('firstLogin')\n        if(firstLogin) refreshToken()\n    }, [])\n\nconst state = {\n    token: [token, setToken],\n    UserAPI: UserAPI(token),\n    PostsAPI: PostsAPI()\n\n}\n    return (\n        <GlobalState.Provider value={state}>\n        {children}\n        </GlobalState.Provider>\n    )\n}","import React, {useContext} from 'react';\nimport {GlobalState} from '../../GlobalState'\nimport {Link} from 'react-router-dom'\nimport axios from 'axios';\nimport './header.css'\n\nfunction Header() {\n    const state = useContext(GlobalState)\n    const [isLogged] = state.UserAPI.isLogged\n\n\n    const logoutUser = async () => {\n        await axios.get('/user/logout')\n        localStorage.clear()\n        window.location.href = \"/\"\n    }\n\n    const loggedRouter = () => {\n        return(\n            <div>\n            <li><Link to=\"/\" onClick={logoutUser}>Logout</Link></li>\n            </div>\n        )\n    }\n\n    return (\n    <header>\n\n        <div className='logo'>\n            <h1>\n                    <Link to=\"/\">{isLogged ? \"Shower Thoughts\" : ''}</Link>\n            </h1>\n        </div>\n\n        <ul>\n            <li><Link to=\"/\">{isLogged ? 'Home' : ''}</Link></li>\n\n            \n            {\n                isLogged ? loggedRouter() :  <li><Link to=\"/login\">Login | Register</Link></li>\n            } \n\n        </ul>   \n    </header>\n    );\n}\n\nexport default Header;","import React, {useState} from 'react'\nimport {Link} from 'react-router-dom'\nimport axios from 'axios'\nimport './login.css'\n\nfunction Login() {\n    const [user, setUser] = useState({\n        username:'', password: ''\n    })\n\n    const onChangeInput = e =>{\n        const {name, value} = e.target;\n        setUser({...user, [name]:value})\n    }\n\n    const loginSubmit = async e =>{\n        e.preventDefault()\n        try {\n            await axios.post('/user/login', {...user})\n\n            localStorage.setItem('firstLogin', true)\n            \n            window.location.href = \"/\";\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    return (\n        <div className=\"login-page\">\n            <form onSubmit={loginSubmit}>\n                <h2>Login</h2>\n                <input type=\"username\" name=\"username\" required\n                placeholder=\"Username\" value={user.username} onChange={onChangeInput} />\n\n                <input type=\"password\" name=\"password\" required autoComplete=\"on\"\n                placeholder=\"Password\" value={user.password} onChange={onChangeInput} />\n\n                <div className=\"row\">\n                    <button type=\"submit\">Login</button>\n                    <Link to=\"/register\">Register</Link>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Login\n","import React, {useState} from 'react'\nimport {Link} from 'react-router-dom'\nimport axios from 'axios'\n\nfunction Register() {\n    const [user, setUser] = useState({\n        name:'', username:'', password: ''\n    })\n\n    const onChangeInput = e =>{\n        const {name, value} = e.target;\n        setUser({...user, [name]:value})\n    }\n\n    const registerSubmit = async e =>{\n        e.preventDefault()\n        try {\n            await axios.post('/user/register', {...user})\n\n            localStorage.setItem('firstLogin', true)\n\n            \n            window.location.href = \"/\";\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    return (\n        <div className=\"login-page\">\n            <form onSubmit={registerSubmit}>\n                <h2>Register</h2>\n                <input type=\"text\" name=\"name\" required\n                placeholder=\"Name\" value={user.name} onChange={onChangeInput} />\n\n                <input type=\"username\" name=\"username\" required\n                placeholder=\"Username\" value={user.username} onChange={onChangeInput} />\n\n                <input type=\"password\" name=\"password\" required autoComplete=\"on\"\n                placeholder=\"Password\" value={user.password} onChange={onChangeInput} />\n\n                <div className=\"row\">\n                    <button type=\"submit\">Register</button>\n                    <Link to=\"/login\">Login</Link>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Register","import React, {useContext} from 'react';\nimport './Post.css';\nimport Axios from 'axios';\nimport {GlobalState} from '../../../../GlobalState'\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\nimport DeleteOutlineOutlinedIcon from '@material-ui/icons/DeleteOutlineOutlined';\n\n\nfunction Post({post}) {\n    \n    const state = useContext(GlobalState)\n    const [token] = state.token\n    const [userID] = state.UserAPI.id\n\n    const removePost = async(id) =>{\n\n        if(window.confirm(\"Do you want to delete this post?\")){\n            \n          const res = await Axios.delete(`/api/posts/${id}`,{\n            headers: {Authorization: token}\n        })\n\n        alert(res.data.msg)\n    \n        }\n    }\n\n    const deletePost = () => {\n        return (\n\n            <button>\n        <DeleteOutlineOutlinedIcon onClick={() => removePost(post._id)} className=\"delete\"/>\n        </button>\n\n        )\n    }\n\n\n    return (\n        <div>\n        <div className=\"post-box\">\n        <div className=\"user-info\">\n        <h2 className=\"name\">{post.name}</h2>\n        <h2 className=\"username\">@{post.username}</h2>\n\n    \n\n        {\n            userID === post.id ? deletePost() : ''\n        }\n\n        </div>\n        \n\n        <h1>{post.post}</h1>\n\n        <div className=\"post-info\">\n\n        <div className=\"likes-box\">\n        <p className=\"likes\">{post.likes}</p>\n        <button>\n        <ThumbUpAltIcon/>\n        </button>\n        </div>\n        <p className=\"date\">{new Date(post.createdAt).toLocaleString()}</p>\n        </div>\n       \n    </div>\n        </div>\n    );\n}\n\nexport default Post;","/* eslint-disable react-hooks/rules-of-hooks */\nimport React, {useContext, useState} from 'react'\nimport {GlobalState} from '../../../GlobalState'\nimport MadePost from '../utils/post/Post'\nimport axios from 'axios'\n\nfunction posts() {\n    \n    const state = useContext(GlobalState)\n    const [posts, setPosts] = state.PostsAPI.posts\n    const [token] = state.token\n    const [callback, setCallback] = state.PostsAPI.callback\n    const [userID] = state.UserAPI.id\n\n\n    \n\n    const deletePost = async(id) => {\n        try {\n\n            // const destroyImg = axios.post('/api/destroy', {public_id},{\n            //     headers: {Authorization: token}\n            // })\n\n            const deletePost = axios.delete(`/api/posts/${id}`, {\n                headers: {Authorization: token}\n            })\n\n         \n            await deletePost\n\n            setCallback(!callback)\n          \n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n  \n    return (\n        <div className=\"post-made\">\n            {\n                posts.slice(0).reverse().map(post => {\n                    return <MadePost key={post._id} post={post}\n                     />\n                })\n            } \n        </div>\n    );\n}\n\nexport default posts","import React, {useContext, useState, useEffect}from 'react';\nimport {GlobalState} from '../../../GlobalState'\nimport Axios from 'axios';\nimport SendIcon from '@material-ui/icons/Send';\nimport { TextField } from '@material-ui/core';\n\nimport './create.css'\n\nconst initialState = {\n    \"id\": '',\n    \"name\": '',\n    \"username\": '',\n    \"post\": '',\n    \"replies\": [],\n    \"likes\": 0,\n    \"images\": null\n}\n\nfunction CreatePost() {\n\n    \n \n    const state = useContext(GlobalState)\n    const [username] = state.UserAPI.username\n    \n    const [name] = state.UserAPI.name\n    const [userID] = state.UserAPI.id\n    const [isLogged] = state.UserAPI.isLogged\n    const [callback ,setCallback] = state.UserAPI.callback\n    const [token] = state.token\n\n    const [post, setPost] = useState(initialState)\n    const [detailPost, setDetailPost] = useState([])\n    const addPost = state.UserAPI.addPost\n\n    const handleChangeInput = e =>{\n        const {name, value} = e.target\n        setPost({...post, [name]:value})\n \n    }\n\n    const handleSubmit = async e =>{\n\n        e.preventDefault()\n        try {\n\n            if(!isLogged) return alert(\"You're not logged in\")\n\n            //Adds post to the post schema\n                await Axios.post('/api/posts', {...post}, {\n                    headers: {Authorization: token}\n                })\n           \n            addPost(post)\n            setPost(initialState)\n            setCallback(!callback)\n            window.location.reload()\n            \n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    return (\n\n        <form onSubmit={handleSubmit}>\n\n        <div>\n\n        <div value={post.id = userID}/>\n        <div value={post.name = name}/>\n        <div value={post.username = username}/>\n    \n        <div className=\"text-search\">\n        <TextField id=\"outlined-basic\" label={`Whats on your mind ${ isLogged ? name : ''}`} variant=\"outlined\" type=\"text\" name=\"post\" className=\"in-post\" value ={post.post} onChange={handleChangeInput} >\n        </TextField>\n        <button type=\"submit\" className=\"btn-post\" ></button>\n        </div> \n        </div>\n\n        </form>\n    );\n}\n\nexport default CreatePost;","import React, {useContext} from 'react';\nimport {GlobalState} from '../../../GlobalState'\nimport './home.css'\nimport Posts from '../posts/posts'\nimport CreatePost from '../createPost/CreatePost'\n\nfunction Home() {\n    const state = useContext(GlobalState)\n    const [isLogged] = state.UserAPI.isLogged\n    const [name] = state.UserAPI.name\n\n \n   \n\n    return (\n        <div>\n            <h1 className=\"home-page\"> {isLogged ? `Welcome back ${name}` : 'Home'}</h1>\n            <CreatePost className=\"post-bar\"/>\n            <Posts className=\"post-made\"/>\n        </div>\n       \n    );\n}\n\nexport default Home;","import React from 'react'\n\nfunction NotFound() {\n    return (\n        <div>\n            404 | Not Found\n        </div>\n    )\n}\n\nexport default NotFound\n","import React from 'react';\nimport {Link} from 'react-router-dom'\n\nfunction Page() {\n    return (\n        <div>\n            Home\n            <button><Link to=\"/register\">REGISTER</Link></button>\n        </div>\n    );\n}\n\nexport default Page;","import React, {useContext} from 'react';\nimport {Switch, Route } from 'react-router-dom'\nimport Login from './auth/Login'\nimport Register from './auth/Register'\nimport Home from './home/Home'\nimport NotFound from './utils/not_found/NotFound'\nimport LandingPage from './landing/Page'\n\nimport {GlobalState} from '../../GlobalState'\n\nfunction Pages() {\n    const state = useContext(GlobalState)\n    const [isLogged] = state.UserAPI.isLogged\n\n    return (\n        <Switch>\n            <Route path='/' exact component={isLogged ? Home : LandingPage}/>\n            <Route path='/login' exact component={isLogged ? NotFound : Login}/>\n            <Route path='/register' exact component={isLogged ? NotFound : Register}/>\n\n            <Route path='*' exact component={NotFound}/>\n        </Switch>\n    );\n}\n\nexport default Pages;\n","import React from 'react';\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport {DataProvider} from './GlobalState'\nimport Header from './components/headers/Header'\nimport MainPages from './components/mainpages/Pages'\n\n\nfunction App() {\n  return (\n    <DataProvider>\n      <Router>\n        <div className=\"App\">\n          <Header />\n          <MainPages />\n        </div>\n      </Router>\n    </DataProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}